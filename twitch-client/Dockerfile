FROM node:19.5-alpine

WORKDIR app

COPY . .

RUN npm ci

ENV CLIENT_ID {CLIENT_ID}
ENV CLIENT_SECRET {CLIENT_SECRET}

ENV KAFKA_USER {KAFKA_USER}
ENV KAFKA_PASSWORD {KAFKA_PASSWORD}
ENV TOPIC_PREFIX {TOPIC_PREFIX}

ENV USER_DB {USER_DB}
ENV PASSWORD_DB {PASSWORD_DB}

CMD ["npm", "run", "start"]